# science-humidity-ts

# 湿度の直感的理解を目指した教育支援ツール
このアプリケーションは、中学校理科で学習する「湿度」に関する飽和水蒸気量や湿度の概念を、生徒が視覚的かつ直感的に理解できるよう支援することを目的としている。

## 開発背景
中学校の理科教育現場では、「湿度」に関する露点の測定実験において、降温速度の制御や結露の目視に困難があり、生徒が飽和水蒸気量や湿度の概念を実現象と結びつけにくいという課題があった。この課題を解決するため、結露現象のシミュレーションを可能にし、理論と現象を結び付けて学習できるウェブアプリケーションとして開発した。

## アプリケーションの主な機能・体験
本アプリケーションは、湿度や飽和水蒸気量の相互関係を理解するための以下の3つの機能を実装した。

### 1. パラメータの自由設定とリアルタイム表示（搭載機能1）
ユーザーが「温度」「空間内の水分量」「飽和水蒸気量」「湿度」の4つのパラメータを自由に設定可能。
* パラメータを変更すると、他のパラメータがどのように変化するかをリアルタイムで確認できる。
* 「温度を固定」「水蒸気量を固定」といった、条件付きの問題に対応している。

### 2. 気体の状態の視覚的確認（搭載機能2）
飽和水蒸気量曲線グラフ内に、気体の状態を示す棒グラフが自動生成される。
* 棒グラフは3種類の色で色分けしている。
    * **青色**: 水蒸気量
    * **橙色**: まだ空気中に含むことができる水蒸気量
    * **緑色**: 水滴の量
* パラメータの変更に応じて棒グラフが平行移動し、気体の状態を視覚的に確認できる。

### 3. 結露現象のシミュレーション（搭載機能3）
飽和水蒸気量グラフの状態に基づき、結露現象をイラストの活用によりシミュレーション表示が可能。
* 「実験開始」ボタンを押すことで時間が経過し、棒グラフと対象物のイラストが変化することで結露の様子が確認できる。
* シミュレーションの対象物として「コップ」（表面の結露）、「窓」（冬場の窓の内側の結露）、「タオル」（空間内の湿度による乾湿）の3つを用意している。

## 評価実験の結果詳細
中学校2年生73人（両方のテストに参加した生徒）を対象に評価実験を実施した結果、以下の効果が確認された。

### 1. テスト結果の比較
アプリケーションの利用前（1回目）と利用後（2回目）のテストの正解人数を比較したところ以下のようになった。

| 問題 | 1回目 (人) | 2回目 (人) | 増加人数 (人) |
| :---: | :---: | :---: | :---: |
| 問題1 | 35 | 53 | +18 |
| 問題2 | 60 | 62 | +2 |
| 問題3 | 31 | 48 | +17 |
| 問題4 | 23 | 45 | +22 |
| 問題5 | 26 | 30 | +4 |

全問題でアプリケーション利用後の**2回目のテストで正解人数が増加**しており、本アプリケーションが湿度や飽和水蒸気量の関係を理解する上で効果的であることが確認できた。

### 2. アンケート結果
アンケート結果より、アプリケーションの操作性や学習効果について以下の点が確認された。

* **操作性**: 約9割の生徒が操作性について肯定的な意見（「はい」または「どちらかといえばはい」）を回答しており、本アプリケーションは**操作が簡単**であることが評価された。
* **理解度**: パラメータの関係性の理解や結露の理論的説明に対しても「理解できた」と肯定的な回答が多く、視覚的・直感的に理解を深めることができたと言える。

---

## 大学院での技術的改良点

本アプリケーションは大学院進学後、教育現場での実利用や保守性の向上を目的として、技術基盤を刷新した。

### 1. TypeScript + React による再実装
従来版はプレーンな JavaScript で構築していたが、大学院では **TypeScript と React を用いてアーキテクチャを再設計**した。

* **TypeScript** により、温度・飽和水蒸気量・空間内の水分量・湿度・水滴量などのパラメータを型で管理し、数値計算や UI 更新の安全性・一貫性を高めた。
* **React** の `useState`, `useMemo`, `useEffect` を用いて、パラメータ間の依存関係を明示し、状態変化に応じて UI をリアクティブに更新できる構造とした。
  * `useState`: 温度・水蒸気量・湿度などの状態を一元管理。
  * `useMemo`: 同じ入力から導かれる派生値のメモ化により、不要な再計算を避ける実装を意識。
  * `useEffect`: パラメータ変更後に Canvas グラフやイラストを再描画する処理を適切なタイミングで実行。
* UI 構造は **Atomic Design** を意識して分解し、スライダーや数値入力、コップ・窓・タオルのイラストなどをコンポーネント化して再利用性と保守性を向上させた。

### 2. AWS Amplify を用いたホスティングと公開環境の整備
大学院版では、アプリケーションの公開方法も見直し、**AWS Amplify を用いたホスティング**に移行した。

* GitHub リポジトリと Amplify を連携させることで、`main` ブランチなどへの push をトリガーとして自動ビルド・自動デプロイが行われる **簡易的な CI/CD パイプライン**を構築。
* Amplify Hosting により、React で構築した SPA（React Router）のルーティング設定や HTTPS 配信が自動的に行われ、URL 直接アクセスやリロードでも安定して動作する環境を実現。
* タブレット端末やノートPCなど、学校現場での利用を想定し、ブラウザのみでアクセス可能な構成とすることで、インストール作業なしに授業内・家庭学習の両方で利用できるようにした。

### 3. 拡張性・保守性を意識した設計へのリファクタリング
TypeScript + React 化と同時に、将来的な拡張を見据えた設計へのリファクタリングも行った。

* 計算ロジックと描画ロジックを分離し、気温や水蒸気量に関する物理モデルの差し替えや追加がしやすい構造にした。
* グラフ描画用の Canvas コンポーネントや、説明用の UI コンポーネントを分離することで、機能追加やデザイン変更の影響範囲を局所化。
* フォルダ構成やコンポーネント命名を整理し、第三者がコードを読んでも理解しやすい構造を意識した。

これらの改良により、本アプリケーションは「教育効果の検証が行われた教材」であるだけでなく、「継続的な改善や他単元への展開が可能な技術基盤を備えたプロダクト」として位置づけられるようになった。

